{% extends "base.html" %}

{% block head %}
<title>Alter Post</title>
{% endblock %}

{% block body %}

<br>
<form action="{{ url_for('alter_post', id=post.id) }}" method="post"
      class="container shadow-sm p-3 mb-5 bg-body-tertiary rounded" enctype="multipart/form-data">
    {{ form.csrf_token }}
    <div class="d-grid gap-2 d-md-block d-md-flex justify-content-start">
        <a href="{{ url_for('dashboard_user') }}" class="btn btn-dark">Voltar</a>
    </div>
    <br>
    {% if post.prato_pic %}
        <img src="{{ url_for('static', filename='temp/' + post.prato_pic) }}" alt="" class="rounded img-thumbnail" width="200px" height="200px">
    {% else %}
        <img src="{{ url_for('static', filename='images/default_plate.jpg') }}" alt="" class="rounded img-thumbnail" width="200px" height="200px">
    {% endif %}

    <hr>
    <div class="input-group mb-3">
        {{ form.prato_pic.label(class="input-group-text") }}
        {{ form.prato_pic(class="form-control") }}
    </div>
    <div class="input-group mb-3">
        {{ form.name.label(class="input-group-text") }}
        {{ form.name(class="form-control") }}
    </div>
    <div class="input-group mb-3">
        {{ form.categoria.label(class="input-group-text") }}
        {{ form.categoria(class="form-control") }}
    </div>
    <div class="input-group mb-3">
        {{ form.content.label(class="input-group-text") }}
        {{ form.content(style="resize: none;", class="form-control") }}
    </div>
    <div class="input-group mb-3">
        {{ form.preco.label(class="input-group-text") }}
        {{ form.preco(class="form-control") }}
    </div>
    <div class="d-grid gap-2 d-md-block d-md-flex justify-content-evenly">
        {% if post.status %}
            <a href="{{ url_for('desabilitar_prato', id=post.id) }}" class="btn btn-danger">Desabilitar</a>
        {% else %}
            <a href="{{ url_for('habilitar_prato', id=post.id) }}" class="btn btn-warning">Habilitar</a>
        {% endif %}
        {{ form.submit(value="Atualizar", class="btn btn-warning") }}
    </div>
</form>

{% endblock %}
